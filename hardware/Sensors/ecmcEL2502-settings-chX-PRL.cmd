#-d /**
#-d   \brief hardware script for EL2502-settings-chX-default
#-d   \details Parmetrization Default SDO settings for EL2502
#-d   \author Anders Sandstroem
#-d   \file
#-d   \pre Environment variables needed:
#-d   \pre -ECMC_EC_SDO_INDEX "0x80n0" where n is channel 0..3
#-d   \pre -ECMC_EC_SLAVE_NUM = slave number
#-d */

#- Enable user scale (default 0=disabled)
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x1")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "1")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "0")  # Disabled
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- Presentation:
#- 0 = Signed (Default)
#- 1 = Unsigned
#- 2 = Absolute, MSB as sign
#- 3 = Absolute
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x2")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "1")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "0")  # Signed
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- Watch dog:
#- 0 = Default watch dog value
#- 1 = Watchdoh ramp
#- 2 = Last output value
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x5")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "1")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "0")  # Default
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- Operation mode
#- 0 = 20Hz-20kHz period setting, 1 unit=1000 nanosecond
#- 2 = period setting, 1 unit=100 nanosecond
#- 3 = 1Hz-20kHz period setting, 1 unit=1000 nanosecond
epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x7")
epicsEnvSet("ECMC_EC_SDO_SIZE",          "1")
epicsEnvSet("ECMC_EC_SDO_VALUE",         "3")
ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- User scale offset
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x11")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "2")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "0")
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- User scale gain (Represented in fixed point format with factor 2^⁻16=> 1 corresponds to  65535)
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x12")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "4")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "65536")
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- Default output
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x13")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "2")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "0")
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- Default output ramp
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x14")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "2")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "65535")
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- PWM period (20Hz-20kHz)
#-epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x15")
#-epicsEnvSet("ECMC_EC_SDO_SIZE",          "2")
#-epicsEnvSet("ECMC_EC_SDO_VALUE",         "4000")
#-ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- PWM period (1Hz-20kHz)
epicsEnvSet("ECMC_EC_SDO_INDEX_OFFSET",  "0x16")
epicsEnvSet("ECMC_EC_SDO_SIZE",          "4")
epicsEnvSet("ECMC_EC_SDO_VALUE",         "1000000")
ecmcConfigOrDie "Cfg.EcAddSdo(${ECMC_EC_SLAVE_NUM},${ECMC_EC_SDO_INDEX},$(ECMC_EC_SDO_INDEX_OFFSET),$(ECMC_EC_SDO_VALUE),$(ECMC_EC_SDO_SIZE))"

#- Cleanup
epicsEnvUnset("ECMC_EC_SDO_INDEX_OFFSET")
epicsEnvUnset("ECMC_EC_SDO_SIZE")
epicsEnvUnset("ECMC_EC_SDO_VALUE")
